{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\SoftPro22\\\\MyApp2\\\\frontend\\\\src\\\\pages\\\\Add.js\",\n  _s = $RefreshSig$();\nimport axios from \"axios\";\nimport React from \"react\";\nimport { useState } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport ComboBox from '../components/ComboBox';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Add = () => {\n  _s();\n  const [student, setStudent] = useState({\n    fname: \"\",\n    lname: \"\",\n    email: \"\",\n    major: \"\",\n    address: \"\",\n    profile: \"\"\n  });\n  const [selectedValue, setSelectedValue] = useState('');\n  const handleDropdownChange = value => {\n    setSelectedValue(value);\n    student.major = selectedValue;\n  };\n  const [error, setError] = useState(false);\n  const navigate = useNavigate();\n  const [file, setFile] = useState();\n  const handleFile = e => {\n    setFile(e.target.files[0]);\n    console.log(e.target.files[0]);\n  };\n  const handleChange = e => {\n    setStudent(prev => ({\n      ...prev,\n      [e.target.name]: e.target.value\n    }));\n  };\n  const handleClick = async e => {\n    e.preventDefault();\n    const formdata = new FormData();\n    formdata.append('fname', student.fname);\n    formdata.append('lname', student.lname);\n    formdata.append('email', student.email);\n    formdata.append('major', selectedValue);\n    formdata.append('address', student.address);\n    formdata.append('image', file);\n    try {\n      console.log(student.major);\n      console.log(selectedValue);\n      console.log(file.name);\n      await axios.post(\"http://localhost:5000/create\", formdata);\n      navigate(\"/students\");\n    } catch (err) {\n      console.log(err);\n      setError(true);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"app\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Add New Student\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"First name\",\n        name: \"fname\",\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Last name\",\n        name: \"lname\",\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"email\",\n        placeholder: \"Email name\",\n        name: \"email\",\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 8\n      }, this), /*#__PURE__*/_jsxDEV(ComboBox, {\n        onSelectChange: handleDropdownChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Address \",\n        name: \"address\",\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 8\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        placeholder: \"Student Image\",\n        name: \"image\",\n        onChange: handleFile\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleClick,\n        children: \"Add\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 7\n      }, this), error && \"Something went wrong!\", /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/Students\",\n        children: \"See all Students\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 5\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 5\n  }, this);\n};\n_s(Add, \"2S1rZ9MwG1aMSo2HAhZvZHY6a9w=\", false, function () {\n  return [useNavigate];\n});\n_c = Add;\nexport default Add;\nvar _c;\n$RefreshReg$(_c, \"Add\");","map":{"version":3,"names":["axios","React","useState","Link","useNavigate","ComboBox","Add","student","setStudent","fname","lname","email","major","address","profile","selectedValue","setSelectedValue","handleDropdownChange","value","error","setError","navigate","file","setFile","handleFile","e","target","files","console","log","handleChange","prev","name","handleClick","preventDefault","formdata","FormData","append","post","err"],"sources":["C:/Users/SoftPro22/MyApp2/frontend/src/pages/Add.js"],"sourcesContent":["import axios from \"axios\";\nimport React from \"react\";\nimport { useState  } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport ComboBox  from '../components/ComboBox';\n\nconst Add = () => {\n  const [student, setStudent] = useState({\n    fname: \"\",\n    lname: \"\",\n    email: \"\",\n    major: \"\",\n    address: \"\",\n    profile: \"\",\n  });\n\n  const [selectedValue, setSelectedValue] = useState('');\n\n  const handleDropdownChange = (value) => {\n        setSelectedValue(value);\n        student.major = selectedValue;\n      };\n\n  const [error,setError] = useState(false)\n \n const navigate = useNavigate();\n const [file ,setFile] = useState();\nconst handleFile = (e) => { \n       setFile(e.target.files[0]);\n       console.log(e.target.files[0]);\n  }\n\n  const handleChange = (e) => {\n    setStudent((prev) => ({ ...prev, [e.target.name]: e.target.value }));\n  };\n\n    const handleClick = async (e) => {\n    e.preventDefault();\n    const formdata = new FormData();\n    \n    formdata.append('fname', student.fname);\n    formdata.append('lname', student.lname);\n    formdata.append('email', student.email);\n    formdata.append('major', selectedValue);\n    formdata.append('address', student.address);\n    formdata.append('image', file);\n\n    try {\n      console.log(student.major);\n      console.log(selectedValue);\n      console.log(file.name);\n      await axios.post(\"http://localhost:5000/create\", formdata);\n      navigate(\"/students\");\n    } catch (err) {\n      console.log(err);\n      setError(true)\n    }\n  };\n\n  return (\n    <div className ='app'> \n    <div className=\"form\">\n      <h1>Add New Student</h1>\n\n      <input\n        type=\"text\"\n        placeholder=\"First name\"\n        name=\"fname\"\n        onChange={handleChange}\n      />\n      <input\n        type=\"text\"\n        placeholder=\"Last name\"\n        name=\"lname\"\n        onChange={handleChange}\n      />\n       <input\n        type=\"email\"\n        placeholder=\"Email name\"\n        name=\"email\"\n        onChange={handleChange}\n      />\n      <ComboBox  onSelectChange={handleDropdownChange}/>\n  \n       <input\n        type=\"text\"\n        placeholder=\"Address \"\n        name=\"address\"\n        onChange={handleChange}\n      />\n      <input\n        type=\"file\"\n        placeholder=\"Student Image\"\n        name=\"image\"\n         onChange={handleFile}\n      />\n      <button onClick={handleClick}>Add</button>\n      {error && \"Something went wrong!\"}\n      <Link to=\"/Students\">See all Students</Link>\n    </div>\n    </div>\n  );\n};\n\nexport default Add;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}