{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\SoftPro22\\\\MyApp2\\\\frontend\\\\src\\\\pages\\\\Update.js\",\n  _s = $RefreshSig$();\nimport axios from \"axios\";\nimport React, { useState } from \"react\";\nimport { useEffect } from \"react\";\nimport { Link, useNavigate, useParams } from \"react-router-dom\";\nimport ComboBox from '../components/ComboBox';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Update = () => {\n  _s();\n  const [fname, setFname] = useState('');\n  const [lname, setLname] = useState('');\n  const [email, setEmail] = useState('');\n  const [address, setAddress] = useState('');\n  const [major, setMajor] = useState('');\n  const [image, setImage] = useState('');\n  const navigate = useNavigate();\n  const {\n    id\n  } = useParams();\n\n  //Fetching one record from student table \n  useEffect(() => {\n    axios.get('http://localhost:5000/search/' + id).then(res => {\n      setFname(res.data[0].Fname);\n      setLname(res.data[0].Lname);\n      setEmail(res.data[0].Email);\n      setAddress(res.data[0].Address);\n      setMajor(res.data[0].Major);\n    }).catch(err => console.log(err));\n  }, [id]);\n\n  //\n  const [selectedValue, setSelectedValue] = useState('');\n  const handleDropdownChange = value => {\n    setSelectedValue(value);\n    setMajor(selectedValue);\n  };\n  const [error, setError] = useState(false);\n  const [file, setFile] = useState();\n  const handleFile = e => {\n    setFile(e.target.files[0]);\n    setImage(e.target.files[0]);\n    // console.log(e.target.files[0]);\n  };\n\n  const handleClick = async e => {\n    e.preventDefault();\n    const formdata = new FormData();\n    formdata.append('fname', fname);\n    formdata.append('lname', lname);\n    formdata.append('email', email);\n    formdata.append('major', selectedValue);\n    formdata.append('address', address);\n    formdata.append('image', file);\n    console.log(major);\n    console.log(image);\n    try {\n      //await axios.post(`http://localhost:5000/modify/${id}`,{fname, lname,email,address});\n      await axios.post(`http://localhost:5000/modify/${id}`, formdata);\n      navigate(\"/students\");\n    } catch (err) {\n      console.log(err);\n      setError(true);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"app\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Update the Student\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"First name\",\n        name: \"fname\",\n        value: fname,\n        onChange: e => setFname(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Last name\",\n        name: \"lname\",\n        value: lname,\n        onChange: e => setLname(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"email\",\n        placeholder: \"Email name\",\n        name: \"email\",\n        value: email,\n        onChange: e => setEmail(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 8\n      }, this), /*#__PURE__*/_jsxDEV(ComboBox, {\n        onSelectChange: handleDropdownChange,\n        value: major\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 8\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Address \",\n        name: \"address\",\n        value: address,\n        onChange: e => setAddress(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 8\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        placeholder: \"Student Image\",\n        name: \"image\",\n        onChange: handleFile\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleClick,\n        children: \"Update\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 7\n      }, this), error && \"Something went wrong!\", /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/students\",\n        children: \"See all Students\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 5\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 71,\n    columnNumber: 5\n  }, this);\n};\n_s(Update, \"EY+z/OH7AFkmrxRESzlKuCy6WGw=\", false, function () {\n  return [useNavigate, useParams];\n});\n_c = Update;\nexport default Update;\nvar _c;\n$RefreshReg$(_c, \"Update\");","map":{"version":3,"names":["axios","React","useState","useEffect","Link","useNavigate","useParams","ComboBox","Update","fname","setFname","lname","setLname","email","setEmail","address","setAddress","major","setMajor","image","setImage","navigate","id","get","then","res","data","Fname","Lname","Email","Address","Major","catch","err","console","log","selectedValue","setSelectedValue","handleDropdownChange","value","error","setError","file","setFile","handleFile","e","target","files","handleClick","preventDefault","formdata","FormData","append","post"],"sources":["C:/Users/SoftPro22/MyApp2/frontend/src/pages/Update.js"],"sourcesContent":["import axios from \"axios\";\nimport React, { useState } from \"react\";\nimport { useEffect } from \"react\";\nimport { Link, useNavigate, useParams } from \"react-router-dom\";\nimport ComboBox from '../components/ComboBox';\n\nconst Update = () => {\n\nconst [fname, setFname] = useState('');\nconst [lname, setLname] = useState('');\nconst [email, setEmail] = useState('');\nconst [address, setAddress] = useState('');\nconst [major, setMajor] = useState(''); \nconst [image, setImage] = useState('');\n\nconst navigate = useNavigate();\nconst {id} = useParams();\n \n  //Fetching one record from student table \n useEffect(() =>\n{\n  axios.get('http://localhost:5000/search/' + id)\n  .then(res => {\n    setFname(res.data[0].Fname) ;\n    setLname(res.data[0].Lname) ;\n    setEmail(res.data[0].Email) ;\n    setAddress(res.data[0].Address) ;\n    setMajor(res.data[0].Major) ;\n  })\n  .catch (err => console.log(err));\n} , [id])\n           \n//\n  const [selectedValue, setSelectedValue] = useState('');\n  const handleDropdownChange = (value) => {\n        setSelectedValue(value);\n        setMajor(selectedValue);     \n      };\n  const [error,setError] = useState(false)\n\n  const [file ,setFile] = useState();\n  const handleFile = (e) => { \n         setFile(e.target.files[0]);\n         setImage(e.target.files[0]);\n        // console.log(e.target.files[0]);\n    }\n\n  const handleClick = async (e) => {\n    e.preventDefault();\n    const formdata = new FormData();\n    \n      formdata.append('fname', fname);\n      formdata.append('lname', lname);\n      formdata.append('email', email);\n      formdata.append('major', selectedValue);\n      formdata.append('address', address);\n      formdata.append('image', file);\n      console.log(major);\n      console.log(image);\n    try {\n     //await axios.post(`http://localhost:5000/modify/${id}`,{fname, lname,email,address});\n     await axios.post(`http://localhost:5000/modify/${id}`,formdata);\n      navigate(\"/students\");\n    } catch (err) {\n      console.log(err);\n      setError(true);\n    }\n  };\n\n  return (\n    <div className ='app'> \n    <div className=\"form\">\n      <h1>Update the Student</h1>\n     <input\n        type=\"text\"\n        placeholder=\"First name\"\n        name=\"fname\"\n        value = {fname}\n        onChange={e => setFname (e.target.value)}\n      />\n      <input\n        type=\"text\"\n        placeholder=\"Last name\"\n        name=\"lname\"\n        value = {lname}\n       onChange={e => setLname(e.target.value)}\n      />\n       <input\n        type=\"email\"\n        placeholder=\"Email name\"\n        name=\"email\"\n        value = {email}\n        onChange={e => setEmail(e.target.value)}\n      />\n       <ComboBox onSelectChange={handleDropdownChange} value = {major}  />\n       <input\n        type=\"text\"\n        placeholder=\"Address \"\n        name=\"address\" \n        value = {address}\n        onChange={e => setAddress(e.target.value)}\n      />\n      <input\n        type=\"file\"\n        placeholder=\"Student Image\"\n        name=\"image\"\n        onChange={handleFile}\n      />\n      <button onClick={handleClick}>Update</button>\n      {error && \"Something went wrong!\"}\n      <Link to=\"/students\">See all Students</Link>\n    </div>\n    </div>\n  );\n};\n\nexport default Update;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}